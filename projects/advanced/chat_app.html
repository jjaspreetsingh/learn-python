<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-time Chat App Project - Learn Python</title>
    <link rel="stylesheet" href="../../styles.css">
</head>
<body>
    <div class="page-nav">
        <a href="../../index.html">‚Üê Back to Home</a>
    </div>

    <main>
        <section>
            <h2>Real-time Chat App (WebSockets)</h2>
            <p>Develop a live messaging application using WebSockets. This project demonstrates real-time communication, concurrent connections, and event-driven programming.</p>

            <h3>Project Requirements</h3>
            <ul>
                <li>Set up a WebSocket server with websockets library</li>
                <li>Handle multiple client connections concurrently</li>
                <li>Broadcast messages to all connected clients</li>
                <li>Implement basic chat commands (/nick, /quit)</li>
                <li>Create a simple web client interface</li>
            </ul>

            <h3>Sample Implementation</h3>
            <div class="example">
                <h4>chat_server.py</h4>
                <pre><code>import asyncio
import websockets
import json

connected_clients = set()

async def chat_handler(websocket, path):
    # Add client to connected set
    connected_clients.add(websocket)
    
    try:
        # Send welcome message
        await websocket.send(json.dumps({
            'type': 'system',
            'message': 'Welcome to the chat! Type /quit to exit.'
        }))
        
        async for message in websocket:
            data = json.loads(message)
            
            if data['type'] == 'chat':
                # Broadcast message to all clients
                broadcast_message = json.dumps({
                    'type': 'chat',
                    'username': data.get('username', 'Anonymous'),
                    'message': data['message']
                })
                
                # Send to all connected clients except sender
                for client in connected_clients:
                    if client != websocket:
                        try:
                            await client.send(broadcast_message)
                        except:
                            pass
            
            elif data['type'] == 'command':
                if data['command'] == '/quit':
                    break
    
    except websockets.exceptions.ConnectionClosed:
        pass
    finally:
        # Remove client from connected set
        connected_clients.remove(websocket)

async def main():
    server = await websockets.serve(chat_handler, "localhost", 8765)
    print("Chat server started on ws://localhost:8765")
    await server.wait_closed()

if __name__ == "__main__":
    asyncio.run(main())</code></pre>
            </div>

            <h3>Web Client (chat_client.html)</h3>
            <div class="example">
                <pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Chat Client&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="messages"&gt;&lt;/div&gt;
    &lt;input type="text" id="username" placeholder="Username"&gt;
    &lt;input type="text" id="message" placeholder="Message"&gt;
    &lt;button onclick="sendMessage()"&gt;Send&lt;/button&gt;

    &lt;script&gt;
        const ws = new WebSocket('ws://localhost:8765');
        const messages = document.getElementById('messages');
        
        ws.onmessage = function(event) {
            const data = JSON.parse(event.data);
            const messageDiv = document.createElement('div');
            messageDiv.textContent = `${data.username || 'System'}: ${data.message}`;
            messages.appendChild(messageDiv);
        };
        
        function sendMessage() {
            const username = document.getElementById('username').value;
            const message = document.getElementById('message').value;
            
            ws.send(JSON.stringify({
                type: 'chat',
                username: username,
                message: message
            }));
            
            document.getElementById('message').value = '';
        }
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            </div>

            <h3>Extensions</h3>
            <ul>
                <li>Add user authentication and private messaging</li>
                <li>Implement message history and persistence</li>
                <li>Add file sharing capabilities</li>
                <li>Create multiple chat rooms</li>
                <li>Deploy to a cloud platform with load balancing</li>
            </ul>
        </section>
    </main>
</body>
</html>